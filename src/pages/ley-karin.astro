---
// export const prerender = true;

import Base from '@/layouts/Base.astro';
import FormLeyKarin from '@/layouts/function-components/FormLeyKarin.jsx'



const datos = {
  title: 'Ley Karin ',
  description: `
    <p class="mb-4">Bienvenido al canal de reportes de Constructora Aragón Ltda.</p>
    <p class="mb-4"> El canal es un medio seguro para comunicar a los encargados de cumplimiento, la información o sospechas que tengas sobre infracciones de la <a href="https://www.bcn.cl/leychile/navegar?idNorma=1008668" class="underline decoration-2 decoration-[#f09300]" target="_blank">Ley N°20.393</a> sobre responsabilidad Penal de las Personas Jurídicas (sanciona el delito de cohecho, lavado de dinero, entre otros) o a la normativa interna de la Compañía (Ej.: Código de Ética). De igual forma, podrás realizar las consultas o inquietudes que tengas acerca del sistema de integridad que hemos implementado. Constructora Aragón Ltda. con el objetivo de garantizar la confidencialidad de las comunicaciones o denuncias, cuenta con una plataforma exclusiva que permite su tratamiento por un medio seguro por parte de los encargados de revisar la información y de realizar las eventuales investigaciones o resolver las inquietudes.</p>
    <p>En caso de que decidas agregar tu nombre en la denuncia, se mantendrá la confidencialidad de tu identidad, pudiendo tratarse los datos sólo por aquellos responsables del proceso de investigación y de sancionar los incumplimientos. En este caso, el denunciante consiente expresamente en el tratamiento de sus datos personales con la sola finalidad de analizar la información denunciada y llevar a cabo las investigaciones que resulten necesarias, en cumplimiento de la <a href="https://www.bcn.cl/leychile/navegar?idNorma=141599" class="underline decoration-2 decoration-[#f09300]" target="_blank">Ley N°19.628</a> sobre protección de datos personales. Conforme a la Política de Protección del Denunciante, en ningún caso se permitirán retaliaciones o represalias en contra de quién ha realizado una denuncia de buena fe y se adoptarán todas las medidas que sean necesarias para que se cumpla esta garantía.</p>
  `
};
---

<Base
  title="Ley Karin | Constructora Aragón Ltda."
  meta_title="Ley Karin | Constructora Aragón Ltda."
  description="Canal de denuncias Ley Karin"
>
  <section class="page-hero pb-6 pt-16">
    <div class="container col-11 md:col-8 lg:col-6 mx-auto">
      <h1 class="mb-5 mt-8 text-center" set:html="Ley Karin" />
      <!-- <div class="text-base text-gray-900" set:html={datos.description} /> -->
    </div>
  </section>

  <section class="section pt-0">
    <div class="container">
      <div class="row justify-center">
        <div class="card py-10 col-11 md:col-10 lg:col-10">
          <FormLeyKarin client:load />
        </div>
      </div>
    </div>
  </section>
</Base>

<script is:inline>
  // Scripts para contadores de caracteres (adaptados para vanilla JS)
  // document.addEventListener('DOMContentLoaded', () => {
  //   const setupCounter = (textareaId, counterId, limit) => {
  //     const textarea = document.getElementById(textareaId);
  //     const counter = document.getElementById(counterId);

  //     if (textarea && counter) {
  //       const updateCounter = () => {
  //         const caracteres = textarea.value.length;
  //         counter.textContent = `${caracteres} / ${limit} caracteres`;

  //         if (caracteres > limit) {
  //           counter.classList.add('text-red-500'); // Clase para excedido
  //         } else {
  //           counter.classList.remove('text-red-500');
  //         }
  //       };
  //       textarea.addEventListener('input', updateCounter);
  //       updateCounter(); // Initial call to set the count
  //     }
  //   };

  //   setupCounter('existirTestigos', 'contador1', 1000);
  //   setupCounter('relatoSituacionDenunciaHoja1', 'contador2', 3450);
  //   setupCounter('relatoSituacionDenunciaHoja2', 'contador3', 3450);
  // });

  // La función `generarPDF()` necesita ser definida si es parte de tu lógica de negocio
  // Si no está definida, causará un error. Si es un archivo JS externo, impórtalo.
  // Ejemplo (si es una función simple, de lo contrario, ignora este bloque):
  // function generarPDF() {
  //   alert('Función Generar PDF aún no implementada en Astro. Revisa la consola para más detalles.');
  //   console.log('Generar PDF: Lógica de generación de PDF debe ser implementada.');
  // }
</script>
