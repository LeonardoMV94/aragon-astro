---
export const prerender = true;

import config from '@/config/config.json';
import Base from '@/layouts/Base.astro';
import CollapsibleSection from '@/layouts/components/CollapsibleSection.astro';
import type { CollectionEntry } from 'astro:content';
import { getEntry } from 'astro:content';

const entry = (await getEntry(
  'contact',
  '-index'
)) as CollectionEntry<'contact'>;
const { contact_form_action } = config.params;
const contact = entry.data;
const page_data = {
  ...contact,
  content: entry.body
};

const datos = {
  title: 'Canal de denuncias',
  description: `
    <p class="mb-4">Bienvenido al canal de reportes de Constructora Aragón Ltda.</p>
    <p class="mb-4"> El canal es un medio seguro para comunicar a los encargados de cumplimiento, la información o sospechas que tengas sobre infracciones de la <a href="https://www.bcn.cl/leychile/navegar?idNorma=1008668" class="underline decoration-2 decoration-[#f09300]" target="_blank">Ley N°20.393</a> sobre responsabilidad Penal de las Personas Jurídicas (sanciona el delito de cohecho, lavado de dinero, entre otros) o a la normativa interna de la Compañía (Ej.: Código de Ética). De igual forma, podrás realizar las consultas o inquietudes que tengas acerca del sistema de integridad que hemos implementado. Constructora Aragón Ltda. con el objetivo de garantizar la confidencialidad de las comunicaciones o denuncias, cuenta con una plataforma exclusiva que permite su tratamiento por un medio seguro por parte de los encargados de revisar la información y de realizar las eventuales investigaciones o resolver las inquietudes.</p>
    <p>En caso de que decidas agregar tu nombre en la denuncia, se mantendrá la confidencialidad de tu identidad, pudiendo tratarse los datos sólo por aquellos responsables del proceso de investigación y de sancionar los incumplimientos. En este caso, el denunciante consiente expresamente en el tratamiento de sus datos personales con la sola finalidad de analizar la información denunciada y llevar a cabo las investigaciones que resulten necesarias, en cumplimiento de la <a href="https://www.bcn.cl/leychile/navegar?idNorma=141599" class="underline decoration-2 decoration-[#f09300]" target="_blank">Ley N°19.628</a> sobre protección de datos personales. Conforme a la Política de Protección del Denunciante, en ningún caso se permitirán retaliaciones o represalias en contra de quién ha realizado una denuncia de buena fe y se adoptarán todas las medidas que sean necesarias para que se cumpla esta garantía.</p>
  `
};
---

<Base
  title="Compliance | Constructora Aragón Ltda."
  meta_title="Canal de denuncias | Constructora Aragón Ltda."
  description={contact.description}
>
  <section class="page-hero pb-6 pt-16">
    <div class="container col-11 md:col-8 lg:col-6 mx-auto">
      <h1 class="mb-5 mt-8 text-center" set:html={datos.title} />
      <div class="text-base text-gray-900" set:html={datos.description} />
    </div>
  </section>

  <section class="section pt-0">
    <div class="container">
      <div class="row justify-center">
        <div class="card py-10 col-11 md:col-10 lg:col-10">
          <form
            class="lg:mx-4 mx-auto"
            action="/api/functions/compliance"
            method="POST"
            enctype="multipart/form-data"
          >
            <CollapsibleSection title="Datos de la denuncia">
              <div class="form-group mb-5">
                <label class="form-label" for="fecha">Fecha:</label>
                <input
                  class="form-control"
                  type="date"
                  id="fecha"
                  name="fecha"
                  placeholder="dd-mm-aaaa"
                />
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="horario">Horario:</label>
                <input
                  class="form-control"
                  type="time"
                  id="horario"
                  name="horario"
                  placeholder="--:--"
                />
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="lugarIncidente"
                  >Lugar donde ha sucedido el incidente:</label
                >
                <input
                  class="form-control"
                  type="text"
                  id="lugarIncidente"
                  name="lugarIncidente"
                  placeholder="Lugar del incidente"
                />
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="incumplimientoAsociado"
                  >Incumplimiento asociado a:</label
                >
                <select
                  name="incumplimientoAsociado"
                  id="incumplimientoAsociado"
                  class="form-select"
                  required
                >
                  <option value="">Selecciona una opción</option>
                  <option value="Código de Ética">Código de Ética</option>
                  <option value="Eventuales delitos">Eventuales delitos</option>
                  <option value="Infracciones al Manual de prevención">Infracciones al Manual de prevención</option>
                  <option value="Otros">Otros</option>
                </select>
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="tipoInfraccion"
                  >Tipo de infracción relacionada con:</label
                >
                <select
                  name="tipoInfraccion"
                  id="tipoInfraccion"
                  class="form-select"
                  required
                >
                  <option value="">Selecciona una opción</option>
                  <option
                    value="Aceptación de dinero o especies avaluadas en dinero"
                    >Aceptación de dinero o especies avaluadas en dinero</option
                  >
                  <option
                    value="Robo o hurto de dinero, información u otros valores"
                    >Robo o hurto de dinero, información u otros valores</option
                  >
                  <option value="Corrupción entre particulares"
                    >Corrupción entre particulares</option
                  >
                  <option value="Cohecho a funcionario público"
                    >Cohecho a funcionario público</option
                  >
                  <option value="Delitos informáticos"
                    >Delitos informáticos</option
                  >
                  <option value="Incumplimiento normativa interna"
                    >Incumplimiento normativa interna</option
                  >
                  <option value="Otros">Otros</option>
                </select>
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="colaboradoresInvolucrados"
                  >Colaboradores involucrados:</label
                >
                <select
                  name="colaboradoresInvolucrados"
                  id="colaboradoresInvolucrados"
                  class="form-select"
                  required
                >
                  <option value="">Selecciona una opción</option>
                  <option value="colaborador1">Interno</option>
                  <option value="externo">Externo</option>
                  <option value="ambos">Ambos</option>
                  <option value="nosabe">No sabe</option>
                </select>
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="identificacionInvolucrados"
                  >Identificación de él o los involucrados:</label
                >
                <input
                  class="form-control"
                  type="text"
                  id="identificacionInvolucrados"
                  name="identificacionInvolucrados"
                  placeholder="Datos del/los involucrados (nombre, apellido, cargo y área)"
                />
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="detallesInfraccion"
                  >Detalles relacionados con la presunta infracción:</label
                >
                <textarea
                  class="form-control"
                  id="detallesInfraccion"
                  name="detallesInfraccion"
                  cols="30"
                  rows="6"
                  placeholder="Describa la infracción (inclusive las ubicaciones de los testigos y cualquier otra información que pueda ser valiosa en la evaluación y resolución final de esta situación.)"
                ></textarea>
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="periodoHechos"
                  >Periodo en el que han estado ocurriendo los hechos:</label
                >
                <input
                  class="form-control"
                  type="text"
                  id="periodoHechos"
                  name="periodoHechos"
                  placeholder="Ingrese un período"
                />
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="formaConocimiento"
                  >Forma en que ha tomado conocimiento de la información:</label
                >
                <input
                  class="form-control"
                  type="text"
                  id="formaConocimiento"
                  name="formaConocimiento"
                  placeholder="Ingrese información"
                />
              </div>
            </CollapsibleSection>

            <!-- <div class="form-group mb-5">
              <label class="form-label" for="archivoRespaldo"
                >Adjuntar información de respaldo.</label
              >
              <input
                class="form-control"
                type="file"
                id="archivoRespaldo"
                name="archivoRespaldo"
                accept=".doc,.pdf,.jpg"
              />
              <small class="block text-gray-500 mt-1"
                >(Fotografías, documentos: .doc, .pdf y .jpg. Máximo 5 MB)</small
              >
            </div> -->

            <!-- <h3 class="h5 mb-4 mt-8">Datos de contacto</h3> -->
            <CollapsibleSection title="Datos de contacto">
              <div class="form-group mb-5">
                <label class="form-label" for="name">Nombre:</label>
                <input
                  class="form-control"
                  type="text"
                  id="name"
                  name="name"
                  placeholder="Nombre completo"
                />
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="email">Correo electrónico:</label
                >
                <input
                  class="form-control"
                  type="email"
                  id="email"
                  name="email"
                  placeholder="correo@correo.com"
                />
              </div>

              <div class="form-group mb-5">
                <label class="form-label" for="telefonoContacto"
                  >Teléfono de contacto:</label
                >
                <input
                  class="form-control"
                  type="tel"
                  id="telefonoContacto"
                  name="telefonoContacto"
                  placeholder="+56987654321"
                />
              </div>

              <div class="form-group mb-5">
                <label class="form-label mb-2"
                  >¿Autoriza que el Encargado de Prevención de Delitos trate la
                  información proporcionada de manera confidencial antes,
                  durante y después de finalizada la revisión?</label
                >
                <div class="flex items-center space-x-4">
                  <label class="inline-flex items-center">
                    <input
                      type="radio"
                      class="form-radio"
                      name="confidencialidad"
                      id="confidencialSi"
                      value="si"
                      checked
                    />
                    <span class="ml-2">Sí</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input
                      type="radio"
                      class="form-radio"
                      name="confidencialidad"
                      id="confidencialNo"
                      value="no"
                    />
                    <span class="ml-2">No</span>
                  </label>
                </div>
              </div>

              <input
                class="btn btn-primary block w-full"
                type="submit"
                value="Enviar"
              />
            </CollapsibleSection>
          </form>
        </div>
      </div>
    </div>
  </section>
</Base>
