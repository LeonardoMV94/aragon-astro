---
import listadoEquipo from '@/config/equipo.json';
import defaultPlaceholder from '@/assets/images/equipo/nn.webp'; // ruta desde public
---

<section class="section">
  <div class="container">
    <div class="row">
      <div class="mx-auto text-center lg:col-6">
        <h2>Nuestro equipo de trabajo</h2>
      </div>
    </div>
    <div class="row mt-12 justify-center">
      <div class="lg:col-12">
        <div class="row">
          {
            listadoEquipo.map((persona) => {
              // Si persona.imagen existe, construye la URL relativa desde /images/equipo/
              const imageSrc = persona.imagen
                ? `/images/equipo/${persona.imagen}`
                : defaultPlaceholder;

              return (
                <div
                  class="transition delay-50 duration-300 ease-in-out hover:scale-105 mb-6 flex flex-col px-6 text-center sm:col-6 lg:col-4 sm:items-center"
                >
                  <div class="member-avatar inline-flex justify-center">
                    <img
                      src={imageSrc}
                      alt={persona.nombre || 'Miembro del equipo'}
                      height={112}
                      width={112}
                      class="rounded-full h-28 w-28"
                      loading="lazy"
                    />
                  </div>
                  <div class="mt-6 w-full flex-1 rounded-xl bg-white px-4 py-8 shadow-lg">
                    <h5 class="font-primary">{persona.nombre}</h5>
                    <p class="mt-1.5">{persona.rol}</p>
                    <p class="mt-1.5">{persona.titulo}</p>
                  </div>
                </div>
              );
            })
          }
        </div>
      </div>
    </div>
  </div>
</section>
